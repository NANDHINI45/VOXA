<%- include('partials/header') %>

    <div class="container" style="padding-top: 2rem;">
        <div style="max-width: 800px; margin: 0 auto;">

            <div class="card mb-4" style="margin-bottom: 2rem;">
                <h2><i class="fas fa-pen-fancy" style="color: var(--primary); margin-right: 0.5rem;"></i> New Entry</h2>
                <form action="/adddiary" method="POST">
                    <div class="input-group">
                        <label for="entryDate">Date</label>
                        <input type="date" id="entryDate" name="entryDate" class="form-control">
                    </div>
                    <div class="input-group">
                        <label for="content">Dear Diary...</label>
                        <textarea id="content" name="content" class="form-control"
                            style="min-height: 150px; resize: vertical;" required
                            placeholder="Write your thoughts here..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Memory</button>
                </form>
            </div>

            <div class="card">
                <h2 style="margin-bottom: 1.5rem;"><i class="fas fa-history"
                        style="color: var(--secondary); margin-right: 0.5rem;"></i> Past Memories</h2>
                <% if (memories.length===0) { %>
                    <div style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                        <i class="fas fa-book-open" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                        <p>No entries yet. Start writing today!</p>
                    </div>
                    <% } else { %>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <% memories.forEach(function(entry) { %>
                                <div
                                    style="border-left: 4px solid var(--primary); padding-left: 1.5rem; background: #f8f9fa; padding: 1.5rem; border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                                    <small
                                        style="color: var(--text-secondary); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">
                                        <%= new Date(entry.entry_date).toDateString() %>
                                    </small>
                                    <p style="margin-top: 0.75rem; white-space: pre-wrap;">
                                        <%= entry.content %>
                                    </p>
                                </div>
                                <% }); %>
                        </div>
                        <% } %>
            </div>

        </div>
    </div>

    <%- include('partials/footer') %>
